		
<%- include("../../include/head.ejs")  %> 
<body>
    <head>
        <!-- Main Wrapper -->
		<div class="main-wrapper">
            <%- include("../../include/naveBare.ejs")  %> 
            <%- include("../../include/alert.ejs")  %> 
			<!-- Page Content -->
						
			<!-- Breadcrumb -->
			<div class="breadcrumb-bar">
				<div class="container-fluid">
					<div class="row align-items-center">
						<div class="col-md-12 col-12">
							<nav aria-label="breadcrumb" class="page-breadcrumb">
								<ol class="breadcrumb">
									<li class="breadcrumb-item"><a href="index.html">Home</a></li>
									<li class="breadcrumb-item active" aria-current="page">Schedule Timings</li>
								</ol>
							</nav>
							<h2 class="breadcrumb-title">Schedule Timings</h2>
						</div>
					</div>
				</div>
			</div>
			<!-- /Breadcrumb -->
			<div class="content">
				<div class="container-fluid">
            <%- include("../../include/notification.ejs")  %> 

					<div class="row">
						<%- include("../../include/doctorProfileAside.ejs")  %> 		
						<div class="col-md-7 col-lg-8 col-xl-9">
						 
							<div class="row">
								<div class="col-sm-12">
									<div class="card">
										<div class="card-body">
											<h4 class="card-title">Schedule Timings</h4>
											<div class="profile-box">
												<div class="row">

													<div class="col-lg-4">
														<div class="form-group">               
															<label>Timing Slot Duration</label>
															<select class=" form-control">
																		<option>15 mins</option>
																<option selected="selected">30 mins</option>  
																<option>45 mins</option>
																<option>1 Hour</option>
															</select>
														</div>
													</div>

												</div>     
												<div class="row">
													<div class="col-md-12">
														<div class="card schedule-widget mb-0">
														
															<!-- Schedule Header -->
															<div class="schedule-header">
															
																<!-- Schedule Nav -->
																<div class="schedule-nav">
																	<ul class="nav nav-tabs nav-justified">
																		<li class="nav-item">
																			<a class="nav-link active" onclick="getDay('Sunday')" data-toggle="tab" href="#slot_sunday">Sunday</a>
																		</li>
																		<li class="nav-item">
																			<a class="nav-link" data-toggle="tab" onclick="getDay('Monday')" href="#slot_monday">Monday</a>
																		</li>
																		<li class="nav-item">
																			<a class="nav-link"  onclick="getDay('Tuesday')" data-toggle="tab" href="#slot_tuesday">Tuesday</a>
																		</li>
																		<li class="nav-item">
																			<a class="nav-link"  onclick="getDay('Wenesday')" data-toggle="tab" href="#slot_wenesday">Wenesday</a>
																		</li>
																		<li class="nav-item">
																			<a class="nav-link"  onclick="getDay('Thursday')" data-toggle="tab" href="#slot_thursday">Thursday</a>
																		</li>
																		<li class="nav-item">
																			<a class="nav-link"  onclick="getDay('Friday')" data-toggle="tab" href="#slot_friday">Friday</a>
																		</li>
																		<li class="nav-item">
																			<a class="nav-link"  onclick="getDay('Saturday')" data-toggle="tab" href="#slot_saturday">Saturday</a>
																		</li>
																	</ul>
																</div>
																<!-- /Schedule Nav -->
																
															</div>
															<!-- /Schedule Header -->
															
															<!-- Schedule Content -->
															<div class="tab-content schedule-cont">
															
																<!-- Sunday Slot -->
																<div id="slot_sunday" class="tab-pane show active fade">
																	<h4 class="card-title d-flex justify-content-between">
																		<span>Time Slots</span> 
																		<a class="edit-link" data-toggle="modal" href="#add_time_slot"><i class="fa fa-plus-circle"></i> Add Slot</a>
																	</h4>
																	<% if (schedual && schedual.Sunday && schedual.Sunday.length > 0) { %>
																	 	<% schedual.Sunday.forEach((element,i) => { %>
																			<!-- Slot List -->
																				<div class="doc-times">
																					<div class="doc-slot-list">
																						<%= element.replace("__" , " - ") %>
																						<a href="javascript:void(0)" class="delete_schedule">
																							<i onclick="deleteTime(event , '<%= i %>' , 'Sunday')" class="fa fa-times"></i>
																						</a>
																					</div>
																				</div>
																			<!-- /Slot List -->																		
																			<% }) %>
																	<% } else { %>
																		<p class="text-muted mb-0">Not Available</p>
																	<% } %>
																</div>
																<!-- /Sunday Slot -->

																<!-- Monday Slot -->
																<div id="slot_monday" class="tab-pane fade  ">
																	<h4 class="card-title d-flex justify-content-between">
																		<span>Time Slots</span> 
																		<a class="edit-link" data-toggle="modal" href="#add_time_slot"><i class="fa fa-plus-circle"></i> Add Slot</a>
																	</h4>
																	
																	<% if (schedual && schedual.Monday && schedual.Monday.length > 0) { %>
																	 	<% schedual.Monday.forEach((element,i) => { %>
																			<!-- Slot List -->
																				<div class="doc-times">
																					<div class="doc-slot-list">
																						<%= element.replace("__" , " - ") %>
																						<a href="javascript:void(0)" class="delete_schedule">
																							<i onclick="deleteTime(event , '<%= i %>' , 'Monday')" class="fa fa-times"></i>
																						</a>
																					</div>
																				</div>
																			<!-- /Slot List -->																		
																			<% }) %>
																	<% } else { %>
																		<p class="text-muted mb-0">Not Available</p>
																	<% } %>
																	
																</div>
																<!-- /Monday Slot -->

																<!-- Tuesday Slot -->
																<div id="slot_tuesday" class="tab-pane fade">
																	<h4 class="card-title d-flex justify-content-between">
																		<span>Time Slots</span> 
																		<a class="edit-link" data-toggle="modal" href="#add_time_slot"><i class="fa fa-plus-circle"></i> Add Slot</a>
																	</h4>
																	<% if (schedual && schedual.Tuesday && schedual.Tuesday.length > 0) { %>
																	 	<% schedual.Tuesday.forEach((element , i) => { %>
																			<!-- Slot List -->
																				<div class="doc-times">
																					<div class="doc-slot-list">
																						<%= element.replace("__" , " - ") %>
																						<a href="javascript:void(0)" class="delete_schedule">
																							<i onclick="deleteTime(event , '<%= i %>' , 'Tuesday')" class="fa fa-times"></i>
																						</a>
																					</div>
																				</div>
																			<!-- /Slot List -->																		<% }) %>
																	<% } else { %>
																		<p class="text-muted mb-0">Not Available</p>
																	<% } %>																
																</div>
																<!-- /Tuesday Slot -->

																<!-- Wenesday Slot -->
																<div id="slot_wenesday" class="tab-pane fade">
																	<h4 class="card-title d-flex justify-content-between">
																		<span>Time Slots</span> 
																		<a class="edit-link" data-toggle="modal" href="#add_time_slot"><i class="fa fa-plus-circle"></i> Add Slot</a>
																	</h4>
																	<% if (schedual && schedual.Wenesday && schedual.Wenesday.length > 0) { %>
																	 	<% schedual.Wenesday.forEach((element,i) => { %>
																			<!-- Slot List -->
																				<div class="doc-times">
																					<div class="doc-slot-list">
																						<%= element.replace("__" , " - ") %>
																						<a href="javascript:void(0)" class="delete_schedule">
																							<i onclick="deleteTime(event , '<%= i %>' , 'Wenesday')" class="fa fa-times"></i>
																						</a>
																					</div>
																				</div>
																			<!-- /Slot List -->																		<% }) %>
																	<% } else { %>
																		<p class="text-muted mb-0">Not Available</p>
																	<% } %>																
																</div>
																<!-- /Wenesday Slot -->

																<!-- Thursday Slot -->
																<div id="slot_thursday" class="tab-pane fade">
																	<h4 class="card-title d-flex justify-content-between">
																		<span>Time Slots</span> 
																		<a class="edit-link" data-toggle="modal" href="#add_time_slot"><i class="fa fa-plus-circle"></i> Add Slot</a>
																	</h4>
																	<% if (schedual && schedual.Thursday && schedual.Thursday.length > 0) { %>
																	 	<% schedual.Thursday.forEach((element,i) => { %>
																			<!-- Slot List -->
																				<div class="doc-times">
																					<div class="doc-slot-list">
																						<%= element.replace("__" , " - ") %>
																						<a href="javascript:void(0)" class="delete_schedule">
																							<i onclick="deleteTime(event , '<%= i %>' , 'Thursday')" class="fa fa-times"></i>
																						</a>
																					</div>
																				</div>
																			<!-- /Slot List -->																		<% }) %>
																	<% } else { %>
																		<p class="text-muted mb-0">Not Available</p>
																	<% } %>																
																</div>
																<!-- /Thursday Slot -->

																<!-- Friday Slot -->
																<div id="slot_friday" class="tab-pane fade">
																	<h4 class="card-title d-flex justify-content-between">
																		<span>Time Slots</span> 
																		<a class="edit-link" data-toggle="modal" href="#add_time_slot"><i class="fa fa-plus-circle"></i> Add Slot</a>
																	</h4>
																	<% if (schedual && schedual.Friday && schedual.Friday.length > 0) { %>
																	 	<% schedual.Friday.forEach((element,i) => { %>
																			<!-- Slot List -->
																				<div class="doc-times">
																					<div class="doc-slot-list">
																						<%= element.replace("__" , " - ") %>
																						<a href="javascript:void(0)" class="delete_schedule">
																							<i onclick="deleteTime(event , '<%= i %>' , 'Friday')" class="fa fa-times"></i>
																						</a>
																					</div>
																				</div>
																			<!-- /Slot List -->																		<% }) %>
																	<% } else { %>
																		<p class="text-muted mb-0">Not Available</p>
																	<% } %>																
																</div>
																<!-- /Friday Slot -->

																<!-- Saturday Slot -->
																<div id="slot_saturday" class="tab-pane fade">
																	<h4 class="card-title d-flex justify-content-between">
																		<span>Time Slots</span> 
																		<a class="edit-link" data-toggle="modal" href="#add_time_slot"><i class="fa fa-plus-circle"></i> Add Slot</a>
																	</h4>
																	<% if (schedual && schedual.Saturday && schedual.Saturday.length > 0) { %>
																	 	<% schedual.Saturday.forEach((element, i ) => { %>
																			<!-- Slot List -->
																				<div class="doc-times">
																					<div class="doc-slot-list">
																						<%= element.replace("__" , " - ") %>
																						<a href="javascript:void(0)" class="delete_schedule">
																							<i onclick="deleteTime(event , '<%= i %>' , )" class="fa fa-times"></i>
																						</a>
																					</div>
																				</div>
																			<!-- /Slot List -->																		<% }) %>
																	<% } else { %>
																		<p class="text-muted mb-0">Not Available</p>
																	<% } %>																</div>
																<!-- /Saturday Slot -->

															</div>
															<!-- /Schedule Content -->
														</div>
													</div>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
								
						</div>
					</div>

				</div>

			</div>		
			<!-- /Page Content -->	
		</div>
		<!-- /Main Wrapper -->

        		
		<!-- Add Time Slot Modal -->
		<div class="modal fade custom-modal" id="add_time_slot">
			<div class="modal-dialog modal-dialog-centered">
				<div class="modal-content">
					<div class="modal-header">
						<h5 class="modal-title">Add Time Slots</h5>
						<button type="button" class="close" data-dismiss="modal" aria-label="Close">
							<span aria-hidden="true">&times;</span>
						</button>
					</div>
					<div class="modal-body">
						<form action="add_schedual_post" class="addScedual" method="post">
							<div class="hours-info">
								<div class="row form-row hours-cont">
									<div class="col-12 col-md-10">
										<div class="row form-row">
											<div class="col-12 col-md-6">
												<div class="form-group">
													<label>Start Time</label>
													<input type="hidden" value="Sunday" name="day"> 
													<select class="form-control" name="start[]">
														<option value="6.00 am">6.00 am</option>
														<option value="6.30 am">6.30 am</option>  
														<option value="7.00 am">7.00 am</option>
														<option value="7.30 am">7.30 am</option>
														<option value="8.00 am">8.00 am</option>
														<option value="8.30 am">8.30 am</option>
														<option value="9.00 am">9.00 am</option>
														<option value="9.30 am">9.30 am</option>
														<option value="10.00 am">10.00 am</option>
														<option value="10.30 am">10.30 am</option>
														<option value="11.00 am">11.00 am</option>
														<option value="11.30 am">11.30 am</option>
														<option value="12.00 pm">12.00 pm</option>
														<option value="12.30 pm">12.30 pm</option>
														<option value="1.00 pm">1.00 pm</option>
														<option value="1.30 pm">1.30 pm</option>
														<option value="2.00 pm">2.00 pm</option>
														<option value="2.30 pm">2.30 pm</option>
														<option value="3.00 pm">3.00 pm</option>
														<option value="3.30 pm">3.30 pm</option>
														<option value="4.00 pm">4.00 pm</option>
														<option value="4.30 pm">4.30 pm</option>
														<option value="5.00 pm">5.00 pm</option>
														<option value="5.30 pm">5.30 pm</option>
														<option value="6.00 pm">6.00 pm</option>
														<option value="6.30 pm">6.30 pm</option>
														<option value="7.00 pm">7.00 pm</option>
														<option value="7.30 pm">7.30 pm</option>
														<option value="8.00 pm">8.00 pm</option>
														<option value="8.30 pm">8.30 pm</option>
														<option value="9.00 pm">9.00 pm</option>
														<option value="9.30 pm">9.30 pm</option>
														<option value="10.00 pm">10.00 pm</option>
														<option value="10.30 pm">10.30 pm</option>
													</select>
												</div> 
											</div>
											<div class="col-12 col-md-6">
												<div class="form-group">
													<label>End Time</label>
													<select class="form-control" name="end[]">
														<option value="6.30 am">6.30 am</option>  
														<option value="7.00 am">7.00 am</option>
														<option value="7.30 am">7.30 am</option>
														<option value="8.00 am">8.00 am</option>
														<option value="8.30 am">8.30 am</option>
														<option value="9.00 am">9.00 am</option>
														<option value="9.30 am">9.30 am</option>
														<option value="10.00 am">10.00 am</option>
														<option value="10.30 am">10.30 am</option>
														<option value="11.00 am">11.00 am</option>
														<option value="11.30 am">11.30 am</option>
														<option value="12.00 pm">12.00 pm</option>
														<option value="12.30 pm">12.30 pm</option>
														<option value="1.00 pm">1.00 pm</option>
														<option value="1.30 pm">1.30 pm</option>
														<option value="2.00 pm">2.00 pm</option>
														<option value="2.30 pm">2.30 pm</option>
														<option value="3.00 pm">3.00 pm</option>
														<option value="3.30 pm">3.30 pm</option>
														<option value="4.00 pm">4.00 pm</option>
														<option value="4.30 pm">4.30 pm</option>
														<option value="5.00 pm">5.00 pm</option>
														<option value="5.30 pm">5.30 pm</option>
														<option value="6.00 pm">6.00 pm</option>
														<option value="6.30 pm">6.30 pm</option>
														<option value="7.00 pm">7.00 pm</option>
														<option value="7.30 pm">7.30 pm</option>
														<option value="8.00 pm">8.00 pm</option>
														<option value="8.30 pm">8.30 pm</option>
														<option value="9.00 pm">9.00 pm</option>
														<option value="9.30 pm">9.30 pm</option>
														<option value="10.00 pm">10.00 pm</option>
														<option value="10.30 pm">10.30 pm</option>
														<option value="11.00 am">11.00 am</option>
													</select>
												</div> 
											</div>
										</div>
									</div>
								</div>
							</div>
							
							<div class="add-more mb-3">
								<a href="javascript:void(0);" class="add-hours"><i class="fa fa-plus-circle"></i> Add More</a>
							</div>
							<div class="submit-section text-center">
								<button type="submit" class="btn btn-primary submit-btn">Save Changes</button>
							</div>
						</form>
					</div>
				</div>
			</div>
		</div>
		<!-- /Add Time Slot Modal -->

        <%- include("../../include/footer.ejs")  %> 
        <%- include("../../include/footer_script.ejs")  %> 
		<!-- Custom JS -->
		<!-- Sticky Sidebar JS -->
		<script src="/frontEnd/assets/plugins/theia-sticky-sidebar/ResizeSensor.js"></script>
		<script src="/frontEnd/assets/plugins/theia-sticky-sidebar/theia-sticky-sidebar.js"></script>
		<script src="/frontEnd/assets/plugins/select2/js/select2.min.js"></script>

		<script src="/frontEnd/assets/js/script.js"></script>
		<script>
			var addScedual = document.querySelector(".addScedual");
			function getDay(day) {
				addScedual.querySelector("input").value = day
			}

			function deleteTime(e,i , day) {
				$.ajax({
					url : "delete_schedual",
					type: "post",
					data :{
						day,
						index : i
					},
					success(data) {
						var alert2 = document.querySelector(".alert2");
						e.target.parentElement.parentElement.remove()

						document.querySelector(".alert2 > div").innerHTML = "delete succesful"
						document.querySelector(".alert2").classList.add("active")
						setTimeout(() => {
						document.querySelector(".alert2").classList.remove("active")
						} , 3000)
					}
				})
			}
		</script>
		
    </body>
</head>